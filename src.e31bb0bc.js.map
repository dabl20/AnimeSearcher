{"version":3,"sources":["js/URL.js","js/Popup.js","js/Item.js","js/Form.js","index.js"],"names":["baseUrl","addPopup","data","document","body","setAttribute","root","getElementById","popup","createElement","id","before","popupWrapper","className","append","delPopup","classList","addEventListener","remove","fetch","then","response","json","console","log","name","textContent","nameRu","russian","img","image","original","description","replace","addItem","app","item","itemWrapper","imageWrapper","forEach","element","search","text","forms","event","preventDefault","innerHTML","querySelector","value","reset"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["export const baseUrl = \"https://shikimori.one\";\r\n","import { baseUrl } from \"./URL\";\r\n\r\nexport function addPopup(data) {\r\n  document.body.setAttribute(\"style\", \"overflow:hidden\");\r\n\r\n  const root = document.getElementById(\"root\");\r\n  const popup = document.createElement(\"div\");\r\n  popup.id = \"popup\";\r\n  root.before(popup);\r\n\r\n  const popupWrapper = document.createElement(\"div\");\r\n  popupWrapper.className = \"popupWrapper\";\r\n  popup.append(popupWrapper);\r\n\r\n  const delPopup = document.createElement(\"span\");\r\n  delPopup.classList = \"delPopup fas fa-times\";\r\n  popupWrapper.append(delPopup);\r\n\r\n  delPopup.addEventListener(\"click\", () => {\r\n    document.body.setAttribute(\"style\", \"overflow:auto\");\r\n    popup.remove();\r\n  });\r\n\r\n  fetch(`${baseUrl}/api/animes/${data.id}`)\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      console.log(data);\r\n      const name = document.createElement(\"h1\");\r\n      name.textContent = data.name;\r\n      popupWrapper.append(name);\r\n\r\n      const nameRu = document.createElement(\"h2\");\r\n      nameRu.textContent = data.russian;\r\n      popupWrapper.append(nameRu);\r\n\r\n      const img = document.createElement(\"img\");\r\n      img.className = \"cover\";\r\n      img.setAttribute(\"src\", baseUrl + data.image.original);\r\n      popupWrapper.append(img);\r\n\r\n      const description = document.createElement(\"p\");\r\n      description.textContent =\r\n        \"Описание: \" +\r\n        data.description.replace(/\\[(.*?)\\]]/g, \"\").replace(/\\[(.*?)\\]/g, \"\");\r\n      popupWrapper.append(description);\r\n    });\r\n\r\n  fetch(`${baseUrl}/api/animes/${data.id}/videos`)\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      console.log(data);\r\n    });\r\n}\r\n","import { baseUrl } from \"./URL\";\r\nimport { addPopup } from \"./Popup\";\r\n\r\nexport function addItem(data) {\r\n  const app = document.getElementById(\"content\");\r\n  const item = document.createElement(\"div\");\r\n  item.className = \"item\";\r\n  app.append(item);\r\n\r\n  const itemWrapper = document.createElement(\"div\");\r\n  itemWrapper.className = \"itemWrapper\";\r\n  item.append(itemWrapper);\r\n\r\n  itemWrapper.addEventListener(\"click\", function () {\r\n    addPopup(data);\r\n  });\r\n\r\n  const imageWrapper = document.createElement(\"div\");\r\n  imageWrapper.className = \"imageWrapper\";\r\n  itemWrapper.append(imageWrapper);\r\n\r\n  const img = document.createElement(\"img\");\r\n  img.setAttribute(\"src\", baseUrl + data.image.original);\r\n  imageWrapper.append(img);\r\n\r\n  const name = document.createElement(\"h3\");\r\n  if (data.russian !== \"\") {\r\n    name.textContent = data.russian;\r\n  } else {\r\n    name.textContent = data.name;\r\n  }\r\n  itemWrapper.append(name);\r\n}\r\n\r\nfetch(`${baseUrl}/api/animes?&limit=15&status=latest`)\r\n  .then((response) => response.json())\r\n  .then((data) => {\r\n    data.forEach((element) => {\r\n      addItem(element);\r\n    });\r\n  });\r\n","import { baseUrl } from \"./URL\";\r\nimport { addItem } from \"./Item\";\r\n\r\ndocument.forms[0].addEventListener(\"submit\", function (event) {\r\n  event.preventDefault();\r\n  document.getElementById(\"content\").innerHTML = \"\";\r\n  const text = document.forms[0].querySelector('input[type=\"text\"]').value;\r\n  search(text);\r\n  this.reset();\r\n});\r\n\r\nfunction search(text) {\r\n  fetch(`${baseUrl}/api/animes?&rating=g&limit=15&search=${text}`)\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      data.forEach((element) => {\r\n        addItem(element);\r\n      });\r\n    });\r\n}\r\n","import \"normalize.css\";\r\nimport \"./styles.css\";\r\nimport \"./js/Form\";\r\n"]}